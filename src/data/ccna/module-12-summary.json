{
  "number": 12,
  "title": "IPv6 Addressing",
  "description": "Structure, representation, types, and configuration",
  "glance": [
    { "number": "128", "label": "Bits in IPv6", "detail": "340 undecillion addresses" },
    { "number": "3", "label": "Transition methods", "detail": "Dual stack, Tunneling, Translation" },
    { "number": "2", "label": "Compression rules", "detail": "Omit leading zeros, :: for zero strings" },
    { "number": "3", "label": "Config methods", "detail": "Static, SLAAC, DHCPv6" }
  ],
  "sections": [
    {
      "id": "why-ipv6",
      "icon": "ğŸŒ",
      "title": "The Necessity of IPv6",
      "color": "blue",
      "blocks": [
        {
          "type": "definition",
          "label": "IPv6",
          "content": "Internet Protocol version 6 â€” developed by the IETF to replace IPv4 due to address exhaustion. Uses 128-bit addresses providing approximately 340 undecillion addresses (340 followed by 36 zeros). This is enough to assign billions of addresses to every person on Earth."
        },
        {
          "type": "comparison",
          "left": {
            "label": "IPv4 (32-bit)",
            "content": "4.3 billion total addresses. Seemed like a lot in the 1980s, but ran out in 2011. NAT and private addressing extended its life, but these are workarounds, not solutions. Address space is exhausted."
          },
          "right": {
            "label": "IPv6 (128-bit)",
            "content": "340 undecillion addresses (3.4 Ã— 10Â³â¸). Enough for every grain of sand on Earth to have its own IP address â€” multiple times over. Designed to never run out."
          },
          "note": "IPv6 isn't just 'more addresses' â€” it also simplifies routing, improves security (IPsec built-in), and removes the need for NAT."
        },
        {
          "type": "subheading",
          "content": "IPv4 to IPv6 Transition Mechanisms"
        },
        {
          "type": "text",
          "content": "The world can't switch to IPv6 overnight â€” billions of IPv4 devices exist. Three coexistence mechanisms allow IPv4 and IPv6 to work together during the gradual transition."
        },
        {
          "type": "grid",
          "columns": 3,
          "items": [
            {
              "icon": "ğŸ“š",
              "title": "Dual Stack",
              "badge": "Most common",
              "description": "Devices run both IPv4 and IPv6 protocol stacks simultaneously. The device chooses which protocol to use based on the destination. Most modern operating systems support this by default.",
              "note": "If both protocols are available, IPv6 is preferred."
            },
            {
              "icon": "ğŸš‡",
              "title": "Tunneling",
              "badge": "Temporary bridge",
              "description": "IPv6 packets are encapsulated inside IPv4 packets to cross IPv4-only networks. The IPv6 packet is 'wrapped' at the entry point and 'unwrapped' at the exit. Common tunnel types: 6to4, ISATAP, Teredo.",
              "note": "Used when IPv6 islands need to communicate over IPv4 infrastructure."
            },
            {
              "icon": "ğŸ”„",
              "title": "Translation (NAT64)",
              "badge": "Last resort",
              "description": "Allows IPv6-only devices to communicate with IPv4-only devices by translating between protocols. A NAT64 gateway sits in the middle converting addresses and headers in both directions.",
              "note": "Similar to IPv4 NAT but translates between two different protocols."
            }
          ]
        },
        {
          "type": "callout",
          "title": "ğŸ’¡ Dual Stack is King",
          "content": "Dual stack is the preferred transition method. Devices maintain full connectivity to both IPv4 and IPv6 networks with no encapsulation overhead or translation complexity. Most enterprises run dual stack today and will for years to come.",
          "color": "blue"
        }
      ]
    },
    {
      "id": "address-format",
      "icon": "ğŸ”¤",
      "title": "Address Representation and Formatting",
      "color": "indigo",
      "blocks": [
        {
          "type": "text",
          "content": "IPv6 addresses are 128 bits long, written in hexadecimal format as eight groups of four hex digits (called hextets or quartets), separated by colons. Each hextet represents 16 bits."
        },
        {
          "type": "codeblock",
          "code": "Full IPv6 address:\n2001:0db8:85a3:0000:0000:8a2e:0370:7334\n\n8 hextets Ã— 16 bits each = 128 bits total"
        },
        {
          "type": "subheading",
          "content": "Compression Rules"
        },
        {
          "type": "text",
          "content": "IPv6 addresses are long and cumbersome. Two rules allow you to shorten them for easier reading and writing."
        },
        {
          "type": "steps",
          "steps": [
            {
              "description": "Rule 1: Omit Leading Zeros â€” Any leading zeros in a hextet can be removed. Example: 0db8 becomes db8, 0000 becomes 0, 00a3 becomes a3. Trailing zeros must remain."
            },
            {
              "description": "Rule 2: Double Colon (::) â€” A single contiguous string of all-zero hextets can be replaced by a double colon. This can only be used ONCE per address (otherwise you couldn't reverse the process)."
            }
          ]
        },
        {
          "type": "subheading",
          "content": "Compression Examples"
        },
        {
          "type": "table",
          "headers": ["Original Address", "After Removing Leading Zeros", "After Double Colon"],
          "codeColumn": 0,
          "rows": [
            ["2001:0db8:0000:0000:0000:0000:0000:0001", "2001:db8:0:0:0:0:0:1", "2001:db8::1"],
            ["fe80:0000:0000:0000:0123:4567:89ab:cdef", "fe80:0:0:0:123:4567:89ab:cdef", "fe80::123:4567:89ab:cdef"],
            ["2001:0db8:0001:0000:0000:0000:0000:0000", "2001:db8:1:0:0:0:0:0", "2001:db8:1::"],
            ["0000:0000:0000:0000:0000:0000:0000:0001", "0:0:0:0:0:0:0:1", "::1"]
          ]
        },
        {
          "type": "callout",
          "title": "âš ï¸ Double Colon Can Only Be Used Once",
          "content": "If you use :: multiple times in the same address, you can't determine how many zero hextets each :: represents. Example: 2001::1::2 is invalid â€” it's ambiguous. Could be 2001:0:0:0:1:0:0:2 or 2001:0:0:1:0:0:0:2. You can't tell which is correct, so it's not allowed.",
          "color": "red"
        },
        {
          "type": "grid",
          "columns": 2,
          "items": [
            {
              "title": "Loopback Address",
              "description": "Full: 0000:0000:0000:0000:0000:0000:0000:0001. Compressed: ::1. Equivalent to 127.0.0.1 in IPv4. Used for testing the local TCP/IP stack.",
              "badge": "::1",
              "cardColor": "indigo"
            },
            {
              "title": "All-Zeros Address",
              "description": "Full: 0000:0000:0000:0000:0000:0000:0000:0000. Compressed: ::. Represents an unknown or unspecified address. Similar to 0.0.0.0 in IPv4.",
              "badge": "::",
              "cardColor": "indigo"
            }
          ]
        }
      ]
    },
    {
      "id": "address-types",
      "icon": "ğŸ·ï¸",
      "title": "IPv6 Address Types",
      "color": "purple",
      "blocks": [
        {
          "type": "text",
          "content": "IPv6 uses three types of addresses: unicast, multicast, and anycast. There is NO broadcast in IPv6 â€” multicast is used instead."
        },
        {
          "type": "subheading",
          "content": "Unicast Addresses"
        },
        {
          "type": "definition",
          "label": "Unicast",
          "content": "Identifies a single interface on a single device. A packet sent to a unicast address is delivered to that one specific interface. There are two main types: Global Unicast Address (GUA) and Link-Local Address (LLA)."
        },
        {
          "type": "comparison",
          "left": {
            "label": "Global Unicast (GUA)",
            "content": "Similar to a public IPv4 address. Globally unique, routable on the internet. Range: 2000::/3 (starts with 2 or 3 in the first hextet). Every device that needs internet access requires a GUA."
          },
          "right": {
            "label": "Link-Local (LLA)",
            "content": "Required on EVERY IPv6-enabled interface. Used for communication on a single local link only â€” NOT routable beyond the local segment. Range: fe80::/10. Automatically generated even without a GUA."
          },
          "note": "GUAs are like street addresses (globally unique). LLAs are like apartment numbers (only unique within the building)."
        },
        {
          "type": "keypoints",
          "items": [
            "GUAs are optional â€” a device can function on a local network with only an LLA. However, internet access requires a GUA.",
            "LLAs are mandatory â€” every IPv6 interface automatically generates one, even if no GUA is configured.",
            "LLAs always start with fe80. The rest of the address is typically generated from the MAC address (EUI-64) or randomly.",
            "Routers use LLAs as the source address for routing protocol messages and neighbor discovery.",
            "LLAs are not forwarded by routers â€” they're confined to the local link (like 169.254.x.x in IPv4)."
          ]
        },
        {
          "type": "subheading",
          "content": "Multicast and Anycast"
        },
        {
          "type": "grid",
          "columns": 2,
          "items": [
            {
              "title": "Multicast",
              "description": "One-to-many communication. A single packet sent to a multicast address is delivered to all devices in that multicast group. Range: ff00::/8 (starts with ff). Used for router discovery, DHCP, routing protocols.",
              "badge": "One-to-group",
              "cardColor": "purple",
              "note": "Replaces IPv4 broadcast functionality."
            },
            {
              "title": "Anycast",
              "description": "Assigned to multiple devices. A packet sent to an anycast address is routed to the 'nearest' device (based on routing metrics). Used for load balancing and redundancy. Same format as unicast addresses.",
              "badge": "One-to-nearest",
              "cardColor": "sky",
              "note": "Multiple devices share the same anycast address."
            }
          ]
        },
        {
          "type": "callout",
          "title": "ğŸš« No Broadcast in IPv6",
          "content": "IPv6 does NOT have broadcast addresses. Broadcast functionality is replaced by multicast â€” specifically the all-nodes multicast address (ff02::1) which reaches all devices on the local link. This is more efficient because only devices that need to listen will process the packet.",
          "color": "purple"
        }
      ]
    },
    {
      "id": "gua-structure",
      "icon": "ğŸ—ï¸",
      "title": "Global Unicast Address (GUA) Structure",
      "color": "emerald",
      "blocks": [
        {
          "type": "text",
          "content": "A Global Unicast Address is divided into three parts: the global routing prefix (network assigned by ISP/RIR), the subnet ID (internal subnetting), and the interface ID (the host portion)."
        },
        {
          "type": "codeblock",
          "code": "GUA Structure:\n\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚  Global Routing Prefix  â”‚   Subnet ID   â”‚       Interface ID        â”‚\nâ”‚       (48 bits)         â”‚   (16 bits)   â”‚        (64 bits)          â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\nâ”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Network Portion â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚â—„â”€â”€â”€â”€ Host Portion â”€â”€â–ºâ”‚\nâ”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ /64 Prefix â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚"
        },
        {
          "type": "table",
          "headers": ["Component", "Typical Size", "Purpose"],
          "rows": [
            ["Global Routing Prefix", "48 bits (/48)", "Assigned by ISP or RIR. Identifies the organization's network globally. This portion is routable on the internet."],
            ["Subnet ID", "16 bits", "Used by the organization to create internal subnets. Allows 65,536 (2Â¹â¶) subnets within the /48 allocation."],
            ["Interface ID", "64 bits", "Identifies a specific interface on the subnet. Can be manually configured, generated from MAC (EUI-64), or randomly assigned (privacy extensions)."]
          ]
        },
        {
          "type": "subheading",
          "content": "GUA Example Breakdown"
        },
        {
          "type": "text",
          "content": "Address: 2001:0db8:acad:0001:0000:0000:0000:0001/64"
        },
        {
          "type": "grid",
          "columns": 3,
          "cardColor": "emerald",
          "items": [
            {
              "title": "Global Routing Prefix",
              "description": "2001:0db8:acad â€” First 48 bits. Assigned by the ISP. Identifies this organization on the internet.",
              "badge": "/48"
            },
            {
              "title": "Subnet ID",
              "description": "0001 â€” Next 16 bits. Internal subnet number. This organization could have subnets 0000 through ffff (65,536 total).",
              "badge": "16 bits"
            },
            {
              "title": "Interface ID",
              "description": "0000:0000:0000:0001 â€” Final 64 bits. Identifies this specific device on subnet 1. Often compressed to ::1.",
              "badge": "/64"
            }
          ]
        },
        {
          "type": "callout",
          "title": "ğŸ’¡ The /64 Standard",
          "content": "In IPv6, /64 is the standard prefix length for a single LAN segment. The first 64 bits are the network portion (global prefix + subnet ID), and the last 64 bits are the interface ID. SLAAC requires /64. Stick to /64 for all LANs unless you have a very specific reason not to.",
          "color": "emerald"
        }
      ]
    },
    {
      "id": "configuration",
      "icon": "âš™ï¸",
      "title": "IPv6 Address Configuration Methods",
      "color": "sky",
      "blocks": [
        {
          "type": "text",
          "content": "IPv6 addresses can be configured three ways: manually (static), automatically via SLAAC (Stateless Address Autoconfiguration), or via DHCPv6 (stateless or stateful)."
        },
        {
          "type": "subheading",
          "content": "Static Configuration"
        },
        {
          "type": "definition",
          "label": "Static IPv6",
          "content": "The administrator manually configures the full IPv6 address, prefix length, and default gateway on the device. Same concept as static IPv4. Used for routers, servers, printers, and other infrastructure devices that need fixed addresses."
        },
        {
          "type": "codeblock",
          "code": "Router(config)# interface g0/0/0\nRouter(config-if)# ipv6 address 2001:db8:acad:1::1/64\nRouter(config-if)# no shutdown"
        },
        {
          "type": "subheading",
          "content": "SLAAC (Stateless Address Autoconfiguration)"
        },
        {
          "type": "definition",
          "label": "SLAAC",
          "content": "Allows a device to automatically generate its own IPv6 GUA without needing a DHCPv6 server. The device learns the network prefix from Router Advertisement (RA) messages sent by the local router, then creates its own interface ID."
        },
        {
          "type": "steps",
          "steps": [
            {
              "description": "Device sends a Router Solicitation (RS) message to ff02::2 (all routers multicast address) asking for configuration info."
            },
            {
              "description": "Router responds with a Router Advertisement (RA) message containing the /64 prefix, default gateway, and other parameters."
            },
            {
              "description": "Device uses the prefix from the RA and generates its own 64-bit Interface ID (either from MAC using EUI-64 or randomly)."
            },
            {
              "description": "Device combines the prefix and interface ID to create its full GUA and configures it on the interface."
            }
          ]
        },
        {
          "type": "keypoints",
          "items": [
            "SLAAC is 'stateless' â€” the router doesn't keep track of which addresses have been assigned. Devices manage their own addresses.",
            "The router only provides the network prefix â€” the device generates the rest.",
            "SLAAC requires a /64 prefix to work properly.",
            "The default gateway is learned from the RA message (the router's link-local address).",
            "DNS server information is NOT provided by basic SLAAC â€” this requires either DHCPv6 or RDNSS (Router Advertisement DNS Server)."
          ]
        },
        {
          "type": "subheading",
          "content": "DHCPv6"
        },
        {
          "type": "text",
          "content": "DHCPv6 can operate in two modes: stateless (SLAAC for address, DHCPv6 for other info) or stateful (DHCPv6 provides everything)."
        },
        {
          "type": "comparison",
          "left": {
            "label": "Stateless DHCPv6",
            "content": "Device uses SLAAC to generate its own GUA, but queries a DHCPv6 server for additional information like DNS server addresses, domain name, etc. RA message tells the device to use SLAAC for address, DHCPv6 for other info."
          },
          "right": {
            "label": "Stateful DHCPv6",
            "content": "DHCPv6 server assigns the full IPv6 address and all configuration parameters (like DHCPv4). RA message tells the device to get everything from DHCPv6. Server tracks address assignments (stateful)."
          },
          "note": "RA messages control which method is used via flags: M-flag (Managed) and O-flag (Other)."
        },
        {
          "type": "table",
          "headers": ["Method", "Address Source", "Other Info Source", "Server Tracking"],
          "rows": [
            ["SLAAC only", "SLAAC (RA prefix)", "RA message", "No tracking"],
            ["SLAAC + Stateless DHCPv6", "SLAAC (RA prefix)", "DHCPv6 server", "No address tracking"],
            ["Stateful DHCPv6", "DHCPv6 server", "DHCPv6 server", "Tracks all assignments"]
          ]
        },
        {
          "type": "callout",
          "title": "ğŸ’¡ SLAAC is the Default",
          "content": "Most client devices use SLAAC by default when they detect an IPv6 network. It's simpler, requires no server, and works out of the box. Stateful DHCPv6 is typically only used in enterprise environments that need centralized address management and logging.",
          "color": "sky"
        }
      ]
    },
    {
      "id": "subnetting",
      "icon": "ğŸ”ª",
      "title": "Subnetting IPv6",
      "color": "amber",
      "blocks": [
        {
          "type": "text",
          "content": "IPv6 subnetting is dramatically simpler than IPv4 subnetting. With a typical /48 allocation, you have a full 16-bit subnet field, giving you 65,536 subnets â€” without borrowing any bits."
        },
        {
          "type": "definition",
          "label": "IPv6 Subnet Field",
          "content": "The 16 bits between the global routing prefix (/48) and the interface ID (/64). This field allows an organization to create up to 65,536 (2Â¹â¶) individual /64 subnets. You simply increment the subnet ID in hexadecimal: 0001, 0002, 0003, ... ffff."
        },
        {
          "type": "keypoints",
          "items": [
            "Standard allocation: ISP gives you a /48. You subnet it into /64s for each LAN.",
            "No bit borrowing needed â€” the 16-bit subnet field is already there for you to use.",
            "Each /64 subnet provides 18 quintillion host addresses (2â¶â´). You'll never run out of host addresses.",
            "Subnetting is almost always done on the /64 boundary â€” this is the standard for a single LAN segment.",
            "Simple planning: just assign each subnet a number in hex (0001, 0002, 0003, etc.)."
          ]
        },
        {
          "type": "subheading",
          "content": "IPv6 Subnetting Example"
        },
        {
          "type": "text",
          "content": "Given allocation: 2001:db8:acad::/48. Create four subnets for different departments."
        },
        {
          "type": "table",
          "headers": ["Department", "Subnet ID", "Full Subnet Address", "Usage"],
          "codeColumn": 2,
          "rows": [
            ["Sales", "0001", "2001:db8:acad:1::/64", "Sales LAN"],
            ["Engineering", "0002", "2001:db8:acad:2::/64", "Engineering LAN"],
            ["Admin", "0003", "2001:db8:acad:3::/64", "Admin LAN"],
            ["Guest WiFi", "0004", "2001:db8:acad:4::/64", "Guest wireless"]
          ]
        },
        {
          "type": "text",
          "content": "You still have subnets 0005 through ffff available (65,531 subnets remaining). Each /64 subnet can support 18,446,744,073,709,551,616 devices."
        },
        {
          "type": "callout",
          "title": "âš¡ IPv6 Subnetting is Easy",
          "content": "Unlike IPv4 where you calculate subnet masks, borrow bits, and figure out host ranges, IPv6 subnetting is just picking numbers. Subnet 1 = :1::/64. Subnet 2 = :2::/64. Subnet 100 = :100::/64. That's it. The hard part is gone.",
          "color": "emerald"
        },
        {
          "type": "comparison",
          "left": {
            "label": "IPv4 Subnetting",
            "content": "Borrow bits from the host portion. Calculate new subnet mask. Determine number of subnets and hosts per subnet. List all subnet ranges. Complex math required."
          },
          "right": {
            "label": "IPv6 Subnetting",
            "content": "Increment the 16-bit subnet ID in hex. Standard /64 prefix for each LAN. No borrowing, no calculations, no shortage of addresses. Just assign numbers sequentially."
          },
          "note": "IPv6 subnetting is intentionally simple â€” the abundance of address space eliminates the complexity."
        }
      ]
    }
  ]
}